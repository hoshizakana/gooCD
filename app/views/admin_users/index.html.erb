

<div class="container">
	<div class="row admin-nav-bar">
		<div class="col-lg-12">
			<%= render '/layouts/admin-nav' %>
		</div>
	</div>
	<div class="row user-search">
		<div class="col-lg-10 col-lg-offset-1">
			<h2>会員一覧</h2>

			<!-- ransack試す -->
			<%= search_form_for @search, url: 'users' do |f| %>
				<%= f.label :id_eq, "ID" %><br>
					<!-- ransackでは整数値の部分検索に非対応 -->
				<%= f.search_field :id_eq %><br>
				<%= f.label :email_cont, "メールアドレス" %><br>
				<%= f.search_field :email_cont %><br>
				<%= f.label :phone_cont, "電話番号" %><br>
				<%= f.search_field :phone_cont %><br>
				<%= f.label :last_name_or_first_name_cont, "お名前" %><br>
				<%= f.search_field :last_name_or_first_name_cont %><br>
				<%= f.submit "検索" %><br>
			<% end %>
		</div>
	</div>
	<div class="row user-index">
		<div class="col-lg-10 col-lg-offset-1">
			<div class="paginate">
				<%= paginate @result, class: "paginate" %>
			</div>
			<table class="table user-index-table">
				<tr>
					<th>会員ID</th>
					<th>会員名</th>
					<th>電話番号</th>
					<th>メールアドレス</th>
					<th></th>
				</tr>
				<% @result.each do |r| %>
					<tr>
						<td><%= r.id %></td>
						<td><%= r.last_name %><%= r.first_name %></td>
						<td><%= r.phone %></td>
						<td><%= r.email %></td>
						<td><%= link_to "詳細", "/admin/users/#{r.id}", class: "btn btn-success"%></td>
					</tr>
				<% end %>
			</table>
			<div class="paginate">
				<%= paginate @result, class: "paginate" %>
			</div>
		</div>
	</div>
</div>
