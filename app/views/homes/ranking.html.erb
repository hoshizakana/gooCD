<div class="container">
	<!-- render 'homes/nav_bar' -->
	<!-- render 'homes/search_bar' -->

	<div class="row">
		<div class="col-lg-2">
			<!-- render 'ジャンルガイド' 共用化せねば… -->
		</div>
		<div class="col-lg-10">
			
			<div class="row">
				<h2>いいね！ランキング</h2>
			</div>

			<div class="row">
		    <div class="row">
					<p>No.1</p>
				</div>
				
				<div class="col-lg-5">
					<%= attachment_image_tag @ranked_product[0], :image, :fill, 300, 300, class: "jacket-img", fallback: "no_image.jpg" %>
				</div>
				<div class="col-lg-7">
					<div class="row">
						<div class="col-lg-12">
							<p>
								シングル/アルバム名: <%= @ranked_product[0].name %>
							</p>
							<p>
								 アーティスト名: <%= Artist.find(@ranked_product[0].artist_id).name %>　
							</p>
							<label>
								<%= Genre.find(@ranked_product[0].genre_id).name %>
							</label>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-6">
							<p>
								発売日：<%= @ranked_product[0].release_date %>
							</p>
						</div>
						<div class="col-lg-6">
							<p>
								税込価格：<%= @ranked_product[0].price * 1.08 %>円
							</p>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-6">
						<!--いいね機能 -->
            <%= render 'products/products', product: @ranked_product[1] %>
            <!--いいね機能 -->
						</div>
					</div>
				</div>
			</div>

			<div class="row">

			<% @ranked_product.each.with_index(1) do |product,i| %>
				<%# 1位は何も表示しない %>
				 <% if i == 1 %>
				 <% end %>		

				<%# 2位と3位を表示 %>
				 <% if i >1 && i <= 3 %>
				<div class = "col-lg-6">
					<div class ="row">
						<p>No.<%= i %></p>
					</div>
					<div class="col-lg-6">
					  <%= attachment_image_tag @ranked_product[i], :image, :fill, 200, 200, class: "jacket-img", fallback: "no_image.jpg" %>
				  </div>

				  <div class="col-lg-6">
						<div class="row">
							<div class="col-lg-12">
								<p>
									シングル/アルバム名: <%= @ranked_product[i].name %>
								</p>
								<p>
									アーティスト名: <%= Artist.find(@ranked_product[i].artist_id).name %>　
								</p>
								<label>
									<%= Genre.find(@ranked_product[i].genre_id).name %>
								</label>
							</div>
						</div>
						<div class="row">
							<div class="col-lg-6">
								<p>
								発売日：<%= @ranked_product[i].release_date %>
							 </p>
						 </div>
						 <div class="col-lg-6">
							 <p>
								税込価格：<%= @ranked_product[i].price * 1.08 %>円
							 </p>
						 </div>
					  </div>
					  <div class="row">
							<div class="col-lg-6">
							<!--いいね機能 -->
              <%= render 'products/products', product: @ranked_product[i] %>
              <!--いいね機能 -->
							</div>
							<div class="col-lg-6">

							</div>
					 </div>
				 </div>
				</div>
				<% end %>
				<% end %>

			</div>	



			<% @ranked_product.each.with_index(1) do |product,i| %>
				<%# 1位から3位までと、11位以降は何も表示しない %>
				 <% if i <= 3 || i >= 11 %>
				 <% end %>

				<%# 3位から10位までは以下のhtmlを表示する %>
				 <% if i >3 && i <= 10  %>
						<div class = "col-lg-3 ranking-2">
							<div class ="row">
								<p>No.<%= i %></p>
							</div>
							<div class="col-lg-12">
								<%= attachment_image_tag product, :image, :fill, 100, 100, class: "jacket-img", fallback: "no_image.jpg" %>
							</div>

							<div class="col-lg-12">
										<p>
											シングル/アルバム名: <%= product.name %>
										</p>
										<p>
											アーティスト名: <%= Artist.find(product.artist_id).name %>　
										</p>
										<label>
											<%= Genre.find(product.genre_id).name %>
										</label>
										<p>
										発売日：<%= product.release_date %>
									  </p>
									  <p>
										税込価格：<%= product.price * 1.08 %>円
									  </p>
										<!--いいね機能 -->
                    <%= render 'products/products', product:product %>
                    <!--いいね機能 -->
						  </div>
						</div>
				<% end %>
			<% end %>

			<div class = "col-lg-3 ranking-2 Mottomiru">
				<button type="button" class="btn btn-primary Mottomiru-btn" id="Mottomiru">11位以降を見る</button>
			</div>

			<div id="rest-of-ranking">
    	<% @ranked_product.each.with_index(1) do |product,i| %>
				<%# 10位までは何も表示しない %>
				 <% if i <= 10 %>
				 <% end %>

				<%# 11位以降は以下のhtmlを表示する %>
				 <% if i >10 %>
						<div class = "col-lg-2 ranking-2">
							<div class ="row">
								<p>No.<%= i %></p>
							</div>
							<div class="col-lg-12">
								<%= attachment_image_tag product, :image, :fill, 100, 100, class: "jacket-img", fallback: "no_image.jpg" %>
							</div>

							<div class="col-lg-12">
										<p>
											シングル/アルバム名: <%= product.name %>
										</p>
										<p>
											アーティスト名: <%= Artist.find(product.artist_id).name %>　
										</p>
										<label>
											<%= Genre.find(product.genre_id).name %>
										</label>
										<p>
										発売日：<%= product.release_date %>
									  </p>
									  <p>
										税込価格：<%= product.price * 1.08 %>円
									  </p>
										<!--いいね機能 -->
                    <%= render 'products/products', product: product %>
                    <!--いいね機能 -->
						  </div>
						</div>
				<% end %>
			<% end %>

		</div>
		</div>
	</div>
</div>
